<div class="d-flex align-items-center justify-content-center vh-100">
    <div class="text-center">
        <h1 class="display-1 fw-bold text-white loading">Server Restarting<h1>
                <p class="fs-3 text-white">The server is restarting, please wait.</p>
    </div>
</div>
<script>
    window.addEventListener("load", (event) => {
        setInterval(checkStatus, 1000);
    });

    let pingUrl = window.location.href + "/ping";

    async function checkStatus() {
        const response = await fetch(pingUrl);
        if(response.status == 200) {
            console.log("Connected, redirecting.");
            redir();
        } else {
            console.log("No connection, trying again...");
        }
    }

    function redir() {
        const queryString = window.location.search;
        const urlParams = new URLSearchParams(queryString);
        const url = urlParams.get('c')
        document.location.href = url;
    }
</script>